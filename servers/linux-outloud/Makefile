#$Id: Makefile,v 20.0 2004/05/01 01:16:25 raman Exp $
CC=g++
INSTALL = install
PREFIX = /usr
libparentdir = ${PREFIX}/share/emacs/site-lisp
libdir =$(libparentdir)/emacspeak/linux-outloud
CFLAGS=-g -fpic  -pedantic -ansi -Wall
TTS=tcleci.so eci.ini VIAVOICE

all: tcleci.so 

CPPFLAGS=  -DUNIX -fpic  -g

tcleci.so: tcleci.o
	$(CC) $(CFLAGS) -g -o $@ tcleci.o -ltcl -ldl -shared

clean:
	rm -f tcleci.so tcleci.o

install: tcleci.so
	if test ! -d $(libdir) ; then mkdir $(libdir); fi ; \
	chmod 755 $(libdir); \
	$(INSTALL) -m 0644 $(TTS) $(libdir)
